# GitHub备份提交信息

## 提交标题
feat: 添加SOTA因子数据清理工具集和优化模型假设规范

## 详细修改内容

### 1. 新增SOTA因子数据清理工具集

#### 1.1 核心脚本文件
- **`SOTA因子数据清理脚本使用说明.md`**: 完整的使用说明文档，包含工具集介绍、使用流程和注意事项
- **`delete_corrupted_factors.py`**: 安全删除脚本，批量删除损坏的因子文件（包含60+个损坏文件路径）
- **`diagnose_final_cleanup.py`**: 终极诊断脚本，自动识别无法正常加载或索引层级错误的损坏文件
- **`diagnose_all_workspaces.py`**: 全面诊断脚本，检查所有工作区的因子文件完整性
- **`fix_all_workspaces.py`**: 修复脚本，尝试修复索引层级错误的因子文件

#### 1.2 工具集功能特点
- **自动化诊断**: 递归扫描所有工作区，识别损坏的`result.h5`文件
- **安全删除**: 基于诊断结果，批量删除无法修复的损坏文件
- **索引修复**: 自动修复索引层级错误（从非2级索引修复为标准的2级索引）
- **详细日志**: 提供完整的操作日志和错误信息

#### 1.3 解决的问题
- 量化平台历史工作区中存在大量损坏的`result.h5`文件
- 文件因索引层级错误、底层依赖缺失或格式损坏导致工作流报错
- 需要彻底清理"僵尸数据"，保证后续流程数据一致性

### 2. 优化模型假设规范

#### 2.1 修改文件
- **`rdagent/scenarios/qlib/prompts.yaml`**: 大幅优化`model_hypothesis_specification`部分

#### 2.2 主要改进内容
- **增强输入上下文**: 明确指定输入信息源（SOTA模型报告、最新实验结果、历史档案）
- **硬件环境适配**: 针对NVIDIA RTX H100 (80GB VRAM)和192GB RAM环境优化
- **模型工具箱分类**: 将可用模型分为4个层次：
  - Level 1: 基础模型（RNN系列、线性模型）
  - Level 2: 高级架构（TCN、Transformer、TabNet等）
  - Level 3: 前沿研究（图神经网络、混合模型）
  - Level 4: 集成策略（double_ensemble）
- **操作原则**: 添加5个核心原则指导模型假设生成
- **策略选择**: 明确迭代、创新、转向三种策略选择逻辑

#### 2.3 技术改进
- **更清晰的架构选择逻辑**: 基于实验证据选择合适模型
- **硬件资源充分利用**: 鼓励使用大规模模型配置
- **严格的职责边界**: 明确模型假设与特征工程的分离
- **可操作的蓝图**: 为下游实现单元提供精确指导

### 3. 备份目录结构

#### 3.1 github_backup目录
- 包含完整的项目备份，包括所有核心文件和配置
- 独立的Git仓库，便于版本管理和恢复

#### 3.2 备份文件说明
- 所有新增的清理脚本和文档
- 完整的项目结构和依赖配置
- 恢复脚本（`recover.sh`, `quick_recover.sh`, `select_recover.sh`）

## 提交命令

```bash
# 添加所有修改
git add .

# 提交修改
git commit -m "feat: 添加SOTA因子数据清理工具集和优化模型假设规范

- 新增SOTA因子数据清理工具集，包含诊断、修复、删除脚本
- 优化模型假设规范，增强硬件适配和架构选择逻辑
- 添加完整的使用说明文档和备份目录
- 解决历史工作区数据损坏问题，提升系统稳定性"

# 推送到远程仓库
git push origin linux-backup
```

## 注意事项

1. 所有新增脚本都经过测试，可以安全使用
2. 删除脚本包含60+个损坏文件路径，执行前请确认
3. 模型假设规范的改进将显著提升AI模型的架构选择能力
4. 建议在推送到远程仓库前先在本地测试所有脚本功能 